{"code":"\"use strict\";\r\nconst hexToRGB = (hexcolor) => {\r\n    var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n    hexcolor = hexcolor.replace(shorthandRegex, function (m, r, g, b) {\r\n        return r + r + g + g + b + b;\r\n    });\r\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hexcolor);\r\n    return result\r\n        ? {\r\n            r: parseInt(result[1], 16) / 255,\r\n            g: parseInt(result[2], 16) / 255,\r\n            b: parseInt(result[3], 16) / 255,\r\n        }\r\n        : {\r\n            r: 0,\r\n            g: 0,\r\n            b: 0,\r\n        };\r\n};\r\nconst getContrastYIQ = (color) => {\r\n    const { r, g, b } = color;\r\n    var yiq = ((r * 299 + g * 587 + b * 114) * 255) / 1000;\r\n    return yiq >= 136 ? \"black\" : \"white\";\r\n};\r\nconst getNameParts = (name) => {\r\n    const nameParts = name.split(\"/\").filter((part) => !!part);\r\n    return nameParts.map((part) => part.trim());\r\n};\r\nconst getStyleByName = (styleName) => {\r\n    const styles = figma.getLocalPaintStyles();\r\n    return styles.find((style) => {\r\n        return (JSON.stringify(getNameParts(style.name)) ===\r\n            JSON.stringify(getNameParts(styleName)));\r\n    });\r\n};\r\nconst COLORS = {\r\n    white: hexToRGB(\"#FFF\"),\r\n    black: hexToRGB(\"#000\"),\r\n    Digital: {\r\n        solid: {\r\n            red: hexToRGB(\"#FF004D\"),\r\n            orange: hexToRGB(\"#FF5C00\"),\r\n            yellow: hexToRGB(\"#FFE500\"),\r\n            green: hexToRGB(\"#64FB73\"),\r\n            blue: hexToRGB(\"#0038FF\"),\r\n            teal: { r: 0, g: 0.88, b: 1 },\r\n            purple: hexToRGB(\"#AD00FF\"),\r\n            black: hexToRGB(\"#000\"),\r\n        },\r\n        fade: {\r\n            red: hexToRGB(\"#FFD9E4\"),\r\n            orange: hexToRGB(\"#FFE2D1\"),\r\n            yellow: hexToRGB(\"#FFF8BA\"),\r\n            green: hexToRGB(\"#D5FDD9\"),\r\n            blue: hexToRGB(\"#D9E1FF\"),\r\n            purple: hexToRGB(\"#F3D9FF\"),\r\n            teal: { r: 0.73, g: 0.97, b: 1 },\r\n            black: { r: 0.88, g: 0.88, b: 0.88 },\r\n        },\r\n    },\r\n    Print: {\r\n        solid: {\r\n            red: hexToRGB(\"#FF004D\"),\r\n            orange: hexToRGB(\"#FF5C00\"),\r\n            yellow: hexToRGB(\"#FFE500\"),\r\n            green: hexToRGB(\"#B2FDB9\"),\r\n            blue: hexToRGB(\"#0038FF\"),\r\n            teal: hexToRGB(\"#99F3FF\"),\r\n            purple: hexToRGB(\"#AD00FF\"),\r\n            black: hexToRGB(\"#000\"),\r\n        },\r\n        fade: {\r\n            red: hexToRGB(\"#FFD9E4\"),\r\n            orange: hexToRGB(\"#FFE2D1\"),\r\n            yellow: hexToRGB(\"#FFF8BA\"),\r\n            green: hexToRGB(\"#E8FEEA\"),\r\n            blue: hexToRGB(\"#D9E1FF\"),\r\n            teal: hexToRGB(\"#BAF7FF\"),\r\n            purple: hexToRGB(\"#F3D9FF\"),\r\n            black: { r: 0.88, g: 0.88, b: 0.88 },\r\n        },\r\n    },\r\n};\r\nconst colorsMatch = (c1, c2) => {\r\n    const EPSILON = 5e-3;\r\n    return (Math.abs(c1.r - c2.r) < EPSILON &&\r\n        Math.abs(c1.g - c2.g) < EPSILON &&\r\n        Math.abs(c1.b - c2.b) < EPSILON);\r\n};\r\nconst getCurrentStyles = () => {\r\n    var _a, _b;\r\n    let primaryStyle = getStyleByName(\"Digital / Primary\");\r\n    if (primaryStyle &&\r\n        ((_a = primaryStyle.paints) === null || _a === void 0 ? void 0 : _a.length) > 0 &&\r\n        primaryStyle.paints[0].type === \"SOLID\") {\r\n        const primaryStyleColor = primaryStyle.paints[0].color;\r\n        const matchingColorEntry = Object.entries(COLORS.Digital.solid).find(([_, color]) => colorsMatch(color, primaryStyleColor));\r\n        if (matchingColorEntry) {\r\n            sendColorUpdate(\"Primary\", matchingColorEntry[0]);\r\n        }\r\n    }\r\n    let secondaryStyle = getStyleByName(\"Digital / Secondary\");\r\n    if (secondaryStyle &&\r\n        ((_b = secondaryStyle.paints) === null || _b === void 0 ? void 0 : _b.length) > 0 &&\r\n        secondaryStyle.paints[0].type === \"SOLID\") {\r\n        const secondaryStyleColor = secondaryStyle.paints[0].color;\r\n        const matchingColorEntry = Object.entries(COLORS.Digital.solid).find(([_, color]) => colorsMatch(color, secondaryStyleColor));\r\n        if (matchingColorEntry) {\r\n            sendColorUpdate(\"Secondary\", matchingColorEntry[0]);\r\n        }\r\n    }\r\n};\r\nfigma.showUI(__html__);\r\nfigma.ui.resize(444, 350);\r\ngetCurrentStyles();\r\nconst setStyle = (styleName, color) => {\r\n    let style = getStyleByName(styleName);\r\n    if (style) {\r\n        style.paints = [{ type: \"SOLID\", color: color }];\r\n    }\r\n    else {\r\n        style = figma.createPaintStyle();\r\n        style.name = styleName;\r\n        style.paints = [{ type: \"SOLID\", color: color }];\r\n    }\r\n};\r\nconst setTextStyles = ({ color_name, variant, }) => {\r\n    const styleName = `Text / Neutral on ${variant}`;\r\n    const textColorName = getContrastYIQ(COLORS.Digital.solid[color_name]);\r\n    setStyle(styleName, COLORS[textColorName]);\r\n    if (variant === \"Primary\") {\r\n        if (textColorName === \"white\") {\r\n            setStyle(\"Text / Branded on Light\", COLORS.Digital.solid[color_name]);\r\n        }\r\n        else {\r\n            setStyle(\"Text / Branded on Light\", COLORS.black);\r\n        }\r\n    }\r\n};\r\nfunction sendColorUpdate(variant, newColorName) {\r\n    figma.ui.postMessage({\r\n        type: \"colorChange\",\r\n        variant: variant,\r\n        color: newColorName,\r\n    });\r\n}\r\nconst flattenAllText = (node) => {\r\n    if (node.type === \"TEXT\" && node.parent) {\r\n        const flattenedText = figma.flatten([node], node.parent);\r\n        flattenedText.constraints = { horizontal: \"SCALE\", vertical: \"SCALE\" };\r\n    }\r\n    if (\"children\" in node) {\r\n        if (node.type !== \"INSTANCE\") {\r\n            for (const child of node.children) {\r\n                flattenAllText(child);\r\n            }\r\n        }\r\n    }\r\n};\r\nconst updateSVGLogo = () => {\r\n    var _a;\r\n    let logo;\r\n    let logos = figma.currentPage.findAll((node) => {\r\n        var _a;\r\n        return node.name === \"Editable Digital Logo\" &&\r\n            ((_a = node.parent) === null || _a === void 0 ? void 0 : _a.name) === \"Logos\";\r\n    });\r\n    if (logos.length !== 1) {\r\n        figma.ui.postMessage({\r\n            type: \"error\",\r\n            message: \"Hmm. Looks like we can't seem to find a unique frame with the name 'Editable Digial Logo'.\",\r\n        });\r\n        return;\r\n    }\r\n    logo = logos[0];\r\n    const logoParent = logo.parent;\r\n    for (const medium of [\"Digital\", \"Print\"]) {\r\n        const newLogo = logo.clone();\r\n        newLogo.locked = true;\r\n        newLogo.name = \"SVG Logo (Don't edit)\";\r\n        newLogo.x = 0;\r\n        newLogo.y = 0;\r\n        let flattenedLogoComponent = logoParent.children.find((node) => {\r\n            return node.name === `${medium} Logo`;\r\n        });\r\n        if (flattenedLogoComponent) {\r\n            for (const node of flattenedLogoComponent.children) {\r\n                node.remove();\r\n            }\r\n        }\r\n        else {\r\n            flattenedLogoComponent = figma.createComponent();\r\n            logoParent.appendChild(flattenedLogoComponent);\r\n            flattenedLogoComponent.name = `${medium} Logo`;\r\n            flattenedLogoComponent.x = 0;\r\n            flattenedLogoComponent.y = 0;\r\n        }\r\n        flattenedLogoComponent.appendChild(newLogo);\r\n        const componentSize = Math.max(newLogo.width, newLogo.height);\r\n        flattenedLogoComponent.resizeWithoutConstraints(componentSize, componentSize);\r\n        if (newLogo.width > newLogo.height) {\r\n            newLogo.y = (componentSize - newLogo.height) / 2;\r\n        }\r\n        else {\r\n            newLogo.x = (componentSize - newLogo.width) / 2;\r\n        }\r\n        for (let child of newLogo.children) {\r\n            if (child.type === \"INSTANCE\") {\r\n                child = child.detachInstance();\r\n            }\r\n            child.layoutMode = \"NONE\";\r\n            child.constraints = { horizontal: \"SCALE\", vertical: \"SCALE\" };\r\n            if (medium === \"Print\" && child.fillStyleId) {\r\n                const fillStyleName = (_a = figma.getStyleById(child.fillStyleId)) === null || _a === void 0 ? void 0 : _a.name;\r\n                if (!fillStyleName)\r\n                    continue;\r\n                const colorNameParts = getNameParts(fillStyleName);\r\n                if ((colorNameParts === null || colorNameParts === void 0 ? void 0 : colorNameParts.length) < 2)\r\n                    continue;\r\n                const colorName = colorNameParts[1];\r\n                const newFillStyle = getStyleByName(`Print / ${colorName}`);\r\n                if (newFillStyle) {\r\n                    child.fillStyleId = newFillStyle.id;\r\n                }\r\n            }\r\n        }\r\n        flattenAllText(flattenedLogoComponent);\r\n    }\r\n};\r\nfigma.ui.onmessage = (message) => {\r\n    console.log(\"got this from the UI\", message);\r\n    if (message.type === \"style\") {\r\n        for (const fade of [false, true]) {\r\n            for (const medium of [\"Print\", \"Digital\"]) {\r\n                const styleName = `${medium} / ${message.variant}${fade ? \" Accent\" : \"\"}`;\r\n                const color = COLORS[medium][fade ? \"fade\" : \"solid\"][message.color];\r\n                setStyle(styleName, color);\r\n            }\r\n        }\r\n        setTextStyles({\r\n            color_name: message.color,\r\n            variant: message.variant,\r\n        });\r\n        sendColorUpdate(message.variant, message.color);\r\n    }\r\n    else if (message.type === \"logo\") {\r\n        updateSVGLogo();\r\n    }\r\n    else if (message.type === \"test\") {\r\n        const nodes = figma.currentPage.findAll((node) => node.type === \"FRAME\" && node.children.length === 0);\r\n    }\r\n};\r\n//# sourceMappingURL=plugin.js.map","references":[],"map":"{\"version\":3,\"file\":\"plugin.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../plugin.ts\"],\"names\":[],\"mappings\":\"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\"}"}
